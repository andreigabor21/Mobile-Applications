{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Andrei Gabor\\\\Desktop\\\\UNI\\\\3rd YEAR\\\\Mobile\\\\Labs\\\\cars-app\\\\src\\\\cars\\\\CarEdit.tsx\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport { IonButton, IonButtons, IonCheckbox, IonContent, IonHeader, IonInput, IonItem, IonItemDivider, IonLabel, IonLoading, IonPage, IonTitle, IonToolbar } from '@ionic/react';\nimport { getLogger } from '../core';\nimport { CarContext } from './CarProvider';\nconst log = getLogger('CarEdit');\n\nconst CarEdit = ({\n  history,\n  match\n}) => {\n  const {\n    cars,\n    saving,\n    savingError,\n    saveCar\n  } = useContext(CarContext);\n  const [model, setModel] = useState('');\n  const [price, setPrice] = useState(0);\n  const [available, setAvailable] = useState(false);\n  const [car, setCar] = useState();\n  useEffect(() => {\n    log('useEffect');\n    const routeId = match.params.id || '';\n    const car = cars === null || cars === void 0 ? void 0 : cars.find(it => it.id === routeId);\n    setCar(car);\n\n    if (car) {\n      setModel(car.model);\n      setPrice(car.price);\n      setAvailable(car.available);\n    }\n  }, [match.params.id, cars]);\n\n  const handleSave = () => {\n    const editedCar = car ? { ...car,\n      model,\n      price,\n      available\n    } : {\n      model,\n      price,\n      available\n    };\n    saveCar && saveCar(editedCar).then(() => history.goBack());\n  };\n\n  log('render');\n  return /*#__PURE__*/React.createElement(IonPage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IonHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonToolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IonTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 21\n    }\n  }, \"Edit\"), /*#__PURE__*/React.createElement(IonButtons, {\n    slot: \"end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(IonButton, {\n    onClick: handleSave,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 25\n    }\n  }, \"Save\")))), /*#__PURE__*/React.createElement(IonContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    slot: \"start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 21\n    }\n  }, \"Model: \"), /*#__PURE__*/React.createElement(IonInput, {\n    value: model,\n    onIonChange: e => setModel(e.detail.value || ''),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(IonItemDivider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    slot: \"start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }\n  }, \"Model: \"), /*#__PURE__*/React.createElement(IonInput, {\n    value: price,\n    onIonChange: e => {\n      var _e$detail$value;\n\n      return setPrice(+((_e$detail$value = e.detail.value) !== null && _e$detail$value !== void 0 ? _e$detail$value : 0));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(IonItemDivider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(IonItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IonLabel, {\n    slot: \"start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }\n  }, \"Is Available\"), /*#__PURE__*/React.createElement(IonCheckbox, {\n    slot: \"end\",\n    checked: available,\n    onIonChange: e => setAvailable(e.detail.checked),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(IonLoading, {\n    isOpen: saving,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }), savingError && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }, savingError.message || 'Failed to save car')));\n};\n\nexport default CarEdit;","map":{"version":3,"sources":["C:/Users/Andrei Gabor/Desktop/UNI/3rd YEAR/Mobile/Labs/cars-app/src/cars/CarEdit.tsx"],"names":["React","useContext","useEffect","useState","IonButton","IonButtons","IonCheckbox","IonContent","IonHeader","IonInput","IonItem","IonItemDivider","IonLabel","IonLoading","IonPage","IonTitle","IonToolbar","getLogger","CarContext","log","CarEdit","history","match","cars","saving","savingError","saveCar","model","setModel","price","setPrice","available","setAvailable","car","setCar","routeId","params","id","find","it","handleSave","editedCar","then","goBack","e","detail","value","checked","message"],"mappings":"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","sourcesContent":["import React, {useContext, useEffect, useState} from 'react';\nimport {\n    IonButton,\n    IonButtons, IonCheckbox,\n    IonContent,\n    IonHeader,\n    IonInput, IonItem, IonItemDivider, IonLabel,\n    IonLoading,\n    IonPage,\n    IonTitle,\n    IonToolbar\n} from '@ionic/react';\nimport {getLogger} from '../core';\nimport {CarContext} from './CarProvider';\nimport {RouteComponentProps} from 'react-router';\nimport {CarProps} from './CarProps';\n\nconst log = getLogger('CarEdit');\n\ninterface CarEditProps extends RouteComponentProps<{\n    id?: string;\n}> {\n}\n\nconst CarEdit: React.FC<CarEditProps> = ({history, match}) => {\n    const {cars, saving, savingError, saveCar} = useContext(CarContext);\n    const [model, setModel] = useState('');\n    const [price, setPrice] = useState(0);\n    const [available, setAvailable] = useState(false);\n    const [car, setCar] = useState<CarProps>();\n    useEffect(() => {\n        log('useEffect');\n        const routeId = match.params.id || '';\n        const car = cars?.find(it => it.id === routeId);\n        setCar(car);\n        if (car) {\n            setModel(car.model);\n            setPrice(car.price);\n            setAvailable(car.available);\n        }\n    }, [match.params.id, cars]);\n    const handleSave = () => {\n        const editedCar = car ? {...car, model, price, available} : {model, price, available};\n        saveCar && saveCar(editedCar).then(() => history.goBack());\n    };\n    log('render');\n    return (\n        <IonPage>\n            <IonHeader>\n                <IonToolbar>\n                    <IonTitle>Edit</IonTitle>\n                    <IonButtons slot=\"end\">\n                        <IonButton onClick={handleSave}>\n                            Save\n                        </IonButton>\n                    </IonButtons>\n                </IonToolbar>\n            </IonHeader>\n            <IonContent>\n                <IonItem>\n                    <IonLabel slot=\"start\">Model: </IonLabel>\n                    <IonInput value={model} onIonChange={e => setModel(e.detail.value || '')}/>\n                </IonItem>\n                <IonItemDivider/>\n                <IonItem>\n                    <IonLabel slot=\"start\">Model: </IonLabel>\n                <IonInput value={price} onIonChange={e => setPrice(+(e.detail.value ?? 0))}/>\n                </IonItem>\n                <IonItemDivider/>\n                <IonItem>\n                    <IonLabel slot=\"start\">Is Available</IonLabel>\n                    <IonCheckbox slot=\"end\" checked={available} onIonChange={e => setAvailable(e.detail.checked)}/>\n                </IonItem>\n                <IonLoading isOpen={saving}/>\n                {savingError && (\n                    <div>{savingError.message || 'Failed to save car'}</div>\n                )}\n            </IonContent>\n        </IonPage>\n    );\n};\n\nexport default CarEdit;\n"]},"metadata":{},"sourceType":"module"}